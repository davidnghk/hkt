<%= search_form_for @search do |f| %>
 
  <div class="row">
    <div class="col-md-2"><%= t('code') %></div>
    <div class="col-md-4"><%= f.search_field :code_cont %></div>

    <div class="col-md-2"><%= t('tag') %></div>
    <div class="col-md-4"><%= f.search_field :tag_cont %></div>
  </div>
  <div class="row">
    <div class="col-md-2"><%= t('name') %></div>
    <div class="col-md-4"><%= f.search_field :name_cont %></div>
    <div class="col-md-2"><%= t('local_name') %></div>
    <div class="col-md-4"><%= f.search_field :local_name_cont %></div>
  </div>
  <br>
  <div class="actions"><%= f.submit 'Search' %> 
    </div>
<% end %>

<table id="commodity"  class="table table-striped table-bordered">
  <thead>
    <tr>
      <th><%= t('code') %></th>
      <th><%= t('tag') %></th>
      <th><%= t('name') %></th>
      <th><%= t('local_name') %></th>

    </tr>
  </thead>

  <tbody>
    <% @commodities.each do |commodity| %>
      <tr data-link="<%= commodity_path(commodity) %>", data: { turbolinks: false }  
        class="group border-t border-gray-400 hover:bg-gray-100">
          <td><%= commodity.code %></td>
          <td><%= commodity.tag %></td>
          <td><%= commodity.name %></td>
          <td><%= commodity.local_name %></td>

      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= link_to new_commodity_path, data: { turbolinks: false } do %>
      <i class="fa fa-plus-circle fa-2x" aria-hidden="true"></i>
<% end %>

<!-- Bootstrap 4 JS -->
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">

<script type="text/javascript">
  $(document).ready(function() {
    $('#commodity').DataTable();
  });

  $("tr[data-link]").click(function() {
    window.location = $(this).data('link');
  });
</script>

